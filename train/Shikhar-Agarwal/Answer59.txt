He told him he is his father  but he didn't relent. Other Gods tried to convince Ganesha to let Shiva in  but he mocked them all. Shiva did not become angry for not being able to see Parvati  but because he saw Ganesh having greed  over-confidence  disrespect and ego that had belittled his intelligence. How could Ganesh spread prosperity  when he himself had selfishness? Shiva realized that Ganesh was not fit to fulfill his objective  and punished him by cutting his head. When Parvati came to know about it  she became very angry because of her love and started destroying the world with her powers which forced Shiva to give back Ganesh his life by attaching elephant's head.