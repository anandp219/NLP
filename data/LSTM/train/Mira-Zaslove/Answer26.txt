Aerys II Targaryen was also infamously betrayed and killed by a member of his Kingsguard  Jaime Lannister -- The Kingslayer -- during the Sack of King's Landing.Anyone in power needs to constantly watch their back  even around their own men. Jon Snow failed to do that  and paid the price. Alliser Thorne  never really liked Jon Snow and was waiting for his chance. Ostensibly Jons people betrayed and killed him because Jon was seen to be making peace with the Wildlings  the sworn enemy of the men in Castle Black.